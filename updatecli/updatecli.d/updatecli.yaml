title: "Bump updatecli version"

scms:
  default:
    kind: "github"
    spec:
      user: "updatecli"
      email: "me@olblak.com"
      owner: "updatecli"
      repository: "updatecli-action"
      username: "github-actions"
      token: '{{requiredEnv "UPDATECLI_GITHUB_TOKEN"}}'
      branch: "v2"

sources:
  updatecli:
    name: "Get latest updatecli version"
    kind: "githubrelease"
    spec:
      owner: "updatecli"
      repository: "updatecli"
      token: '{{requiredEnv "UPDATECLI_GITHUB_TOKEN"}}'

targets:
  action:
    name: "Bump updatecli version in action.yaml"
    kind: yaml
    scmid: default
    sourceid: updatecli
    spec:
      file: "action.yaml"
      key: "inputs.version.default"

pullrequests:
  default:
    kind: github
    title: 'Bump updatecli version to {{ source "updatecli" }}'
    scmid: default
    targets:
      - action
    spec:
      labels:
        - dependencies
        - updatecli
